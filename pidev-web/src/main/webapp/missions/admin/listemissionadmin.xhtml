<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	template="/template/default/admin/template.xhtml">
	<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css"></link>
<script
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
	type="text/javascript"></script>
<script type="text/javascript" charset="utf8"
	src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
	</head>
	<body>
		<ui:define name="content">
			<center>
				<div class="col-md-12">
					<div class="col-md-6"></div>
					<div class="col-md-6">

						<h:form>
							<p:dataTable style="border:none" styleClass="table table-striped"
								id="table" value="#{managedBeanmission.missions}" var="mission"
								border="1" emptyMessage="Mission non trouvÃ©" rows="10"
								paginator="true"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15">

								<p:column headerText="Mission ID">
									<h:outputText value="#{mission.idmission}" />
								</p:column>
								<p:column headerText="Employe ID">
									<h:outputText value="#{mission.employe.id}" />
								</p:column>
								<p:column headerText="Date debut">
									<h:outputText value="#{mission.datedebut}" />
								</p:column>
								<p:column headerText="Date fin">
									<h:outputText value="#{mission.datefin}" />
								</p:column>
								<p:column headerText="Destination">
									<h:outputText value="#{mission.destination}" />
								</p:column>
								<p:column headerText="Territoire">
									<h:outputText value="#{mission.territoire}" />
								</p:column>
								<p:column headerText="Objectif">
									<h:outputText value="#{mission.objectif}" />
								</p:column>
								<p:column headerText="Etat">
									<h:outputText value="#{mission.etat}" />
								</p:column>
								<p:column>
									<h:commandButton
										styleClass="btn btn-sm btn-warning mr-2 command-edit "
										value="edit" action="#{managedBeanmission.modifier(mission)}">
									</h:commandButton>

									<h:commandButton
										styleClass="btn btn-sm btn-danger command-delete"
										value="delete"
										action="#{managedBeanmission.supprimer(mission.idmission)}">
									</h:commandButton>

									<h:commandButton
										styleClass="btn btn-sm btn-danger command-delete"
										value="Envoyer mail"
										action="#{managedBeanmission.envoyer(mission.employe,mission)}">
									</h:commandButton>
								</p:column>
							</p:dataTable>
						</h:form>
						<div class="card-body">
							<h:form styleClass="form-horizontal">

	
								<div class="form-group">
									<label>Destination:* </label>
									<h:inputText value="#{managedBeanmission.destination}" />
									<label>Objectif:* </label>
									<h:inputText value="#{managedBeanmission.objectif}" />
									<label>Territoire:* </label>
									<h:inputText value="#{managedBeanmission.territoire}" />
									<label>Destination:* </label>
									<h:inputText value="#{managedBeanmission.destination}" />

								</div>

								<legend>Etat</legend>
								<select id="etatm" name="etatm"
									class="custom-select custom-select-sm">
									<option disabled="disabled" selected="">#{managedBeanmission.etat}</option>
									<option value="1">Confirme</option>
									<option value="0">Decliner</option>
								</select>
								
									<h:commandButton action="#{managedBeanmission.updatedep()}"
										value="modifier" />
							</h:form>

						</div>


					</div>
				</div>
			</center>


		</ui:define>
	</body>
</ui:composition>
